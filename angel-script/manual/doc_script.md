# The script language reference

Документация по скриптовому языку `AngelScript`

## Глобальные сущности (Global entities)

Все глобальные объявления разделяют одно пространство имен, поэтому их имена не дожны повторяться.  
Сюда входят расширенные типы данных и встроенные функции, зарегистрированные приложением.  
Так же все определения видны всем: вызываемая функция не обязательно должна быть объявлена перед вызывающей.

### functions

Глобальные функции - именовынные участки кода, принимающие параметры и возвращающие результат

```angelscript
void foo()
{
    // do something
}
```

### variables

Глобальные переменные могут быть определены в скриптах, которые будут общими для всех контекстов выполнения, имеющих доступ к скриптовому модулю.

Переменные объявленные глобально(как в примере) доступны из всех функций. Значение переменной инициализируется на этапе компиляции и любые изменения сохраняются между вызовами(are maintained between calls). Если переменная ссылается на какие нибудь ресурсы(`string` например), то они будут освобождены при удалении(`discard`) модуля либо при сбросе(`reset`) скриптового движка.

```angelscript
int MyValue = 0;
const uint MyFlag1 = 0x01;
```

Переменные примитивных типов инициализируются перед составными переменными. Это позволяет конструкторам классов получать корректные начальные значения глобальных переменных.  
Особым случаем является доступ к другой глобальной переменной имеющей непримитивный тип. В этом случае нет гарантий в каком порядке инициализации, что может привести к выбросу `null-pointer exception`.

Будьте осторожны с инициализацией глобальных переменных с помощью функций, которые могут использовать другие глобальные переменные. Компилятор пытается определить порядок инициализации, но не всегда это возможно.  
Использование в функции неинициализированной глобальной переменной приведет к неопределённому поведению либо к `null-pointer exception`.

### virtual properties

Виртуальные свойства похожи на обычные переменные/свойства объектов, но имеют специальное поведение для доступа на чтение и/или запись значений. Обычно их используют в классах, но так же возможно определить их глобально.

```angelscript
int prop
{
    get { return getSomeValue(); }
    set { setSomeValue(value); }
}
```

### script classes

Классы обычно используются для объединения данных(свойств) и некоторого поведения(методов).  
Может существовать множество объектов класса, каждый из которых хранит свои данные.

```angelscript
class Foo()
{
    void bar() { value++; }
    int value;
}
```

### interfaces

Интерфейс чем то похож "контракт" - классы, реализующие интерфейс, обязуются предоставить реализацию всех методов, объявленных в интерфейсе.  
Это позволяет использовать полиморфизм и вместо конкретных классов указывать, что функции нужен объект, реализующий интерфейс.  
При этом внутри функции можно вызывать все методы интерфейса без знания, какой же конкретный тип у объекта.

```angelscript
// The interface declaration
interface MyInterface
{
    void DoSomething();
}

// A class that implements the interface MyInterface
class MyClass: MyInterface
{
    void DoSomething()
    {
        // implementation
    }
}
```

Классы могут реализовывать по несколько интерфейсов: просто перечислите нужные через запятую.

### mixin class
### funcdefs
### typedefs
### namespaces
### imports

## Инструкции (Statements)

## Выражения (Expressions)

## Типы данных (Data types)

## Функции (Functions)

## Классы (Script classes)

## Хэндлы объектов (Object handles)

## Общие сущности (Shared script entities)

## Приоритет операторов (Operator precedence)

## Зарезервированные ключевые слова и токены(Reserved keywords and tokens)

## Граматика скриптового языка (Script language grammar)

## Статдартная библиотека (Standard library)